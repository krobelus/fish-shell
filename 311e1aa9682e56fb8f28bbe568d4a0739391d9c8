	[floam] I was unaware that in 2017 we made stdout unbuffered. Usually that's just stderr - since it's just really important you get the message on the screen in states where the app might be about to abort. Honestly IMO that change (https://github.com/fish-shell/fish-shell/commit/616d301083b925632cd39ff719caad0d973c29a5) should be reverted and fish should use `fflush()` appropriately, @faho's workarounds wouldn't be necessary for performance.
